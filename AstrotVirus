-- Orion Library
local OrionLib = loadstring(game:HttpGet("https://raw.githubusercontent.com/jensonhirst/Orion/main/source"))()

-- Services
local Players=game:GetService("Players")
local RunService=game:GetService("RunService")
local LocalPlayer=Players.LocalPlayer

-- Window
local Window = OrionLib:MakeWindow({
	Name="Astrot",
	SaveConfig=true,
	ConfigFolder="AstrotConfig",
	IntroEnabled=true,
	IntroText="Astrot Script"
})

-- Tabs (ÙƒÙ„Ù‡Ø§)
local Tab_Taf3eel   = Window:MakeTab({Name="ØªÙØ¹ÙŠÙ„", Icon="rbxassetid://4483345998"})
local Tab_Hathf     = Window:MakeTab({Name="Ø­Ø°Ù Ø§Ø´ÙŠØ§Ø¡", Icon="rbxassetid://4483345998"})
local Tab_ControlP  = Window:MakeTab({Name="ØªØ­ÙƒÙ… Ø¨Ù†Ø§Ø³", Icon="rbxassetid://4483345998"})
local Tab_ControlS  = Window:MakeTab({Name="ØªØ­ÙƒÙ… Ø¨Ù†ÙØ³Ùƒ", Icon="rbxassetid://4483345998"})
local Tab_Intiqal   = Window:MakeTab({Name="Ø§Ù†ØªÙ‚Ø§Ù„", Icon="rbxassetid://4483345998"})
local Tab_Tools     = Window:MakeTab({Name="ØªØ­ÙƒÙ… Ø¨Ù„ Ø§Ø¯ÙˆØ§Øª", Icon="rbxassetid://4483345998"})
local Tab_Info      = Window:MakeTab({Name="Ù…Ø¹Ù„ÙˆÙ…Ø§Øª", Icon="rbxassetid://4483345998"})

----------------------------------------------------------------
-- Ù…ØªØºÙŠØ±Ø§Øª Ø¹Ø§Ù…Ø©
----------------------------------------------------------------
local SelectedPlayer=nil

local function FindByPartial(name)
	name=name:lower()
	for _,p in pairs(Players:GetPlayers()) do
		if p.Name:lower():sub(1,#name)==name then
			return p
		end
	end
end

----------------------------------------------------------------
-- ØªÙØ¹ÙŠÙ„ | Ø§Ø®ØªÙŠØ§Ø± Ù„Ø§Ø¹Ø¨
----------------------------------------------------------------
Tab_Taf3eel:AddTextbox({
	Name="Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨",
	TextDisappear=true,
	Callback=function(v)
		local p=FindByPartial(v)
		if p then
			SelectedPlayer=p
			OrionLib:MakeNotification({Name="ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ¯",Content=p.Name,Time=2})
		end
	end
})

----------------------------------------------------------------
-- ESP Toggle
----------------------------------------------------------------
local ESPOn=false
local ESP=nil
Tab_Taf3eel:AddToggle({
	Name="ESP",
	Default=false,
	Callback=function(on)
		ESPOn=on
		if ESP then ESP:Destroy() ESP=nil end
		if on and SelectedPlayer and SelectedPlayer.Character then
			ESP=Instance.new("Highlight")
			ESP.FillColor=Color3.fromRGB(255,0,0)
			ESP.OutlineColor=Color3.fromRGB(255,255,255)
			ESP.FillTransparency=0.5
			ESP.Adornee=SelectedPlayer.Character
			ESP.Parent=game.CoreGui
		end
	end
})

----------------------------------------------------------------
-- Teleport (Ø²Ø± Ø¹Ø§Ø¯ÙŠ)
----------------------------------------------------------------
Tab_Taf3eel:AddButton({
	Name="Teleport",
	Callback=function()
		if not SelectedPlayer or not SelectedPlayer.Character then return end
		local hrp=SelectedPlayer.Character:FindFirstChild("HumanoidRootPart")
		local my=LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
		if hrp and my then
			my.CFrame=hrp.CFrame*CFrame.new(0,0,-3)
		end
	end
})

----------------------------------------------------------------
-- View Toggle
----------------------------------------------------------------
local ViewOn=false
local Cam=workspace.CurrentCamera
local OldSubject=nil
Tab_Taf3eel:AddToggle({
	Name="View",
	Default=false,
	Callback=function(on)
		if not SelectedPlayer or not SelectedPlayer.Character then return end
		local hum=SelectedPlayer.Character:FindFirstChildOfClass("Humanoid")
		if not hum then return end
		if on then
			OldSubject=Cam.CameraSubject
			Cam.CameraSubject=hum
		else
			if OldSubject then Cam.CameraSubject=OldSubject end
		end
	end
})

----------------------------------------------------------------
-- AST Toggle (Ù…Ø­Ù„ÙŠ ÙÙ‚Ø·)
-- Ø®Ù„Ù Ø¸Ù‡Ø± Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ù…Ø­Ø¯Ø¯ + Ø­Ø±ÙƒØ© Ø§Ù…Ø§Ù…/ÙˆØ±Ø§ Ø³Ø±ÙŠØ¹Ø©
-- Massless / Ø¨Ø¯ÙˆÙ† Ø¬Ø§Ø°Ø¨ÙŠØ©
----------------------------------------------------------------
local ASTConn=nil
local OldPlatform=false

Tab_Taf3eel:AddToggle({
	Name="AST",
	Default=false,
	Callback=function(on)
		local char=LocalPlayer.Character
		if not char then return end
		local hum=char:FindFirstChildOfClass("Humanoid")
		local hrp=char:FindFirstChild("HumanoidRootPart")

		if ASTConn then
			ASTConn:Disconnect()
			ASTConn=nil
			if hum then hum.PlatformStand=OldPlatform end
		end
		if not on then return end
		if not SelectedPlayer or not SelectedPlayer.Character then return end

		local tHRP=SelectedPlayer.Character:FindFirstChild("HumanoidRootPart")
		if not tHRP or not hrp or not hum then return end

		OldPlatform=hum.PlatformStand
		hum.PlatformStand=true -- Massless

		local backOffset=2       -- Ù„Ø²Ù‚ Ø¨Ø§Ù„Ø¸Ù‡Ø±
		local swingDist=5        -- Ø§Ù…Ø§Ù… / ÙˆØ±Ø§
		local speed=20           -- Ø³Ø±Ø¹Ø© Ø¹Ø§Ù„ÙŠØ©

		ASTConn=RunService.RenderStepped:Connect(function(dt)
			if not tHRP or not hrp then return end

			local look=Vector3.new(tHRP.CFrame.LookVector.X,0,tHRP.CFrame.LookVector.Z)
			if look.Magnitude==0 then return end
			look=look.Unit

			local basePos=tHRP.Position - look*backOffset
			local swing=math.sin(tick()*speed)*swingDist

			local finalPos=basePos + look*swing
			hrp.CFrame=CFrame.new(finalPos, finalPos + look)
		end)
	end
})

----------------------------------------------------------------
-- Ø­Ø°Ù Ø§Ø´ÙŠØ§Ø¡
----------------------------------------------------------------
Tab_Hathf:AddButton({Name="Ø­Ø°Ù Ø§Ù„Ù…Ù„Ø§Ø¨Ø³", Callback=function() print("Ø­Ø°Ù Ø§Ù„Ù…Ù„Ø§Ø¨Ø³") end})
Tab_Hathf:AddButton({Name="Ø­Ø°Ù Ø§Ù„Ø¨ÙˆØ§Ø¨Ø§Øª", Callback=function() print("Ø­Ø°Ù Ø§Ù„Ø¨ÙˆØ§Ø¨Ø§Øª") end})

----------------------------------------------------------------
-- Ø§Ù†ØªÙ‚Ø§Ù„
----------------------------------------------------------------
local function TP(x,y,z)
	if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
		LocalPlayer.Character.HumanoidRootPart.CFrame=CFrame.new(x,y,z)
	end
end

Tab_Intiqal:AddButton({Name="Ø§Ù„Ù…Ø¯Ø±Ø³Ù‡ Ø¯ÙˆØ± Ø§Ù„Ø§ÙˆÙ„", Callback=function()TP(-641.74,-8.55,615.86)end})
Tab_Intiqal:AddButton({Name="Ø§Ù„Ù…Ø¯Ø±Ø³Ù‡ Ø¯ÙˆØ± Ø«Ø§Ù†ÙŠ", Callback=function()TP(-645.30,13.09,601.69)end})
Tab_Intiqal:AddButton({Name="Ø³Ø·Ø­ Ø§Ù„Ù…Ø¯Ø±Ø³Ù‡", Callback=function()TP(-659.53,30.75,604.97)end})
Tab_Intiqal:AddButton({Name="Ø§Ù„Ø¨Ø¯Ø§ÙŠÙ‡", Callback=function()TP(-699.09,-8.66,547.47)end})
Tab_Intiqal:AddButton({Name="Ø§Ù„Ø¨ÙŠØª", Callback=function()TP(-1222.30,-8.13,309.16)end})
Tab_Intiqal:AddButton({Name="ØºØ±ÙÙ‡ Ø§Ù„Ø¨ÙŠØª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠÙ‡", Callback=function()TP(-1274.60,-7.91,271.95)end})
Tab_Intiqal:AddButton({Name="Ø§Ù„Ø¨ÙŠØª Ø¯ÙˆØ± Ø§Ù„Ø§ÙˆÙ„", Callback=function()TP(-1192.90,-4.11,265.13)end})
Tab_Intiqal:AddButton({Name="Ø§Ù„Ø¨ÙŠØª Ø¯ÙˆØ± Ø«Ø§Ù†ÙŠ", Callback=function()TP(-1181.42,18.87,246.97)end})
Tab_Intiqal:AddButton({Name="Ø³Ø·Ø­ Ø§Ù„Ø¨ÙŠØª", Callback=function()TP(-1198.68,47.04,260.32)end})
Tab_Intiqal:AddButton({Name="ÙˆØ±Ø§ Ø§Ù„Ø¨ÙŠØª", Callback=function()TP(-1201.88,-7.93,204.98)end})
Tab_Intiqal:AddButton({Name="Ù‚Ø¯Ø§Ù… Ù„ÙˆØ­Ù‡ ÙˆÙ‚Øª Ù„Ø§Ø¹Ø¨ÙŠÙ†", Callback=function()TP(-619.49,-9.08,485.11)end})

----------------------------------------------------------------
-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª (Ù†ÙØ³ Ø§Ù„Ø´ÙƒÙ„)
----------------------------------------------------------------
Tab_Info:AddLabel("Astrot Script")
Tab_Info:AddLabel("Ù…Ù‡Ù… !!! : Ø³ÙƒØ±Ø¨Øª Ù…Ø§ ÙŠØ¶Ø¨Ø· Ø¹Ù„Ù‰ Ù…Ø§Ø¨Ø§Øª Ø«Ø§Ù†ÙŠÙ‡")
Tab_Info:AddParagraph("ØªÙØ§ØµÙŠÙ„",
[[ØµØ§Ù†Ø¹ : Virus
Ø§Ø³Ù… Ø³ÙƒØ±Ø¨Øª : Astrot Script
Ø§Ù„Ù…Ø§Ø¨ : "ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¯Ø±Ø³Ù‡ Ø§Ù„Ù‚Ø¯ÙŠÙ…(Ø´Ø§ØªğŸ’¬+Ø®Ø§Øµ)"]])
Tab_Info:AddLabel("Ø§Ù„Ø³ÙƒØ±Ø¨Øª Ø³ÙˆÙ ÙŠØªÙ… ØªØ­Ø¯ÙŠØ«Ù‡ ÙƒÙ„ ÙØªØ±Ù‡")

----------------------------------------------------------------
OrionLib:Init()
